{:package "floating", :definitions {"comp.login/update-state" ["defn" "update-state" ["state" "k" "v"] ["assoc" "state" "k" "v"]], "comp.home/comp-home" ["def" "comp-home" ["create-comp" ":home" "render"]], "core/on-jsload" ["defn" "on-jsload" [] ["clear-cache!"] ["render-app!"] ["println" "|code updated."]], "core/-main" ["defn" "-main" [] ["enable-console-print!"] ["render-app!"] ["setup-socket!" "store-ref" ["{}" [":url" ["str" "|ws://" [".-hostname" "js/location"] "|:5021"]] [":on-close!" ["fn" ["event"] [".error" "js/console" "|Lost connection!"]]]]] ["add-watch" "store-ref" ":changes" "render-app!"] ["add-watch" "states-ref" ":changes" "render-app!"] ["println" "|app started!"]], "comp.container/on-add" ["defn" "on-add" ["e" "dispatch!"] ["dispatch!" ":router/change" ["{}" [":name" ":add"] [":title" "|Add"] [":data" ["{}"]] [":router" "nil"]]]], "comp.draft/style-toolbar" ["def" "style-toolbar" ["{}" [":justify-content" ":flex-end"]]], "comp.draft/comp-draft" ["def" "comp-draft" ["create-comp" ":draft" "init-state" "update-state" "render"]], "core/store-ref" ["defonce" "store-ref" ["atom" ["{}"]]], "comp.login/on-toggle" ["defn" "on-toggle" ["mutate!" "signup?"] ["fn" ["e" "dispatch!"] ["mutate!" ":signup?" ["not" "signup?"]]]], "comp.home/style-trigger" ["def" "style-trigger" ["{}" [":font-size" "14"] [":cursor" ":pointer"] [":background-color" "colors/motif-light"] [":color" ":white"] [":padding" "|0 8px"]]], "comp.login/on-submit" ["defn" "on-submit" ["username" "password" "signup?"] ["fn" ["e" "dispatch!"] ["dispatch!" ["if" "signup?" ":user/sign-up" ":user/log-in"] ["[]" "username" "password"]]]], "comp.container/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/global" "ui/fullscreen" "ui/column"]]] ["div" ["{}" [":style" ["merge" "ui/row-center" "style-header"]]] ["div" ["{}" [":style" "ui/row"]] ["div" ["{}" [":event" ["{}" [":click" "on-hot"]]]] ["comp-text" "|Hot" "nil"]] ["comp-space" "16" "nil"] ["div" ["{}" [":event" ["{}" [":click" "on-new"]]]] ["comp-text" "|New" "nil"]]] ["if" [":logged-in?" "store"] ["div" ["{}" [":style" "ui/row"]] ["div" ["{}" [":style" "style-pointer"] [":event" ["{}" [":click" "on-add"]]]] ["comp-text" "|Add" "nil"]] ["comp-space" "16" "nil"] ["div" ["{}" [":style" "style-pointer"] [":event" ["{}" [":click" "on-profile"]]]] ["comp-text" "|Me" "nil"]]] ["div" ["{}"] ["comp-text" "|Guest" "nil"]]]] ["div" ["{}" [":style" "style-body"]] ["comp-home" "store"]] ["comp-debug" "store" ["{}" [":bottom" "0"] [":left" "0"] [":max-width" "|100%"]]] ["comp-msg-list" ["get-in" "store" ["[]" ":state" ":notifications"]] ":state/remove-notification"]]]], "comp.login/init-state" ["defn" "init-state" ["&" "args"] ["{}" [":signup?" "false"] [":username" "|"] [":password" "|"]]], "core/dispatch!" ["defn" "dispatch!" ["op" "op-data"] ["send!" "op" "op-data"]], "network/receiver" ["defonce" "receiver" ["chan"]], "comp.draft/on-input" ["defn" "on-input" ["mutate!"] ["fn" ["e" "dispatch!"] ["mutate!" [":value" "e"]]]], "comp.container/on-hot" ["defn" "on-hot" ["e" "dispatch!"] ["dispatch!" ":router/change" ["{}" [":name" ":hot"] [":title" "|Hot"] [":data" ["{}"]] [":router" "nil"]]]], "comp.login/on-input" ["defn" "on-input" ["mutate!" "k"] ["fn" ["e" "dispatch!"] ["mutate!" "k" [":value" "e"]]]], "comp.container/on-new" ["defn" "on-new" ["e" "dispatch!"] ["dispatch!" ":router/change" ["{}" [":name" ":new"] [":title" "|New"] [":data" ["{}"]] [":router" "nil"]]]], "comp.container/style-header" ["def" "style-header" ["{}" [":height" "48"] [":background-color" "colors/motif"] [":justify-content" ":space-between"] [":padding" "|0 16px"] [":font-size" "16"] [":color" ":white"]]], "comp.draft/on-send" ["defn" "on-send" ["text" "mutate!"] ["fn" ["e" "dispatch!"] ["dispatch!" ":message/create" "text"] ["mutate!" "|"]]], "comp.container/comp-container" ["def" "comp-container" ["create-comp" ":container" "render"]], "comp.login/render" ["defn" "render" [] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/flex" "ui/column"]]] ["div" ["{}" [":style" "style-title"]] ["comp-text" ["if" [":signup?" "state"] "|Sign up" "|Log in"] "nil"]] ["div" ["{}" [":style" ["{}"]]] ["div" ["{}"] ["input" ["{}" [":style" "ui/input"] [":attrs" ["{}" [":placeholder" "|Username"] [":value" [":username" "state"]]]] [":event" ["{}" [":input" ["on-input" "mutate!" ":username"]]]]]]] ["comp-space" "nil" "8"] ["div" ["{}"] ["input" ["{}" [":style" "ui/input"] [":attrs" ["{}" [":placeholder" "|Password"] [":value" [":password" "state"]]]] [":event" ["{}" [":input" ["on-input" "mutate!" ":password"]]]]]]]] ["comp-space" "nil" "8"] ["div" ["{}" [":style" "ui/flex"]] ["button" ["{}" [":style" ["merge" "ui/button" ["{}" [":outline" ":none"] [":border" ":none"]]]] [":event" ["{}" [":click" ["on-submit" [":username" "state"] [":password" "state"] [":signup?" "state"]]]]]] ["comp-text" "|Submit" "nil"]]] ["--" "comp-debug" "state" "nil"] ["comp-space" "nil" "8"] ["if" [":signup?" "state"] ["div" ["{}"] ["comp-text" "|Want to log in?" "nil"] ["comp-space" "8" "nil"] ["button" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" ["on-toggle" "mutate!" [":signup?" "state"]]]]]] ["comp-text" "|Log in" "nil"]]] ["div" ["{}"] ["comp-text" "|No account yet?" "nil"] ["comp-space" "8" "nil"] ["button" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" ["on-toggle" "mutate!" [":signup?" "state"]]]]]] ["comp-text" "|Sign up" "nil"]]]]]]], "comp.draft/update-state" ["defn" "update-state" ["state" "text"] "text"], "core/states-ref" ["defonce" "states-ref" ["atom" ["{}"]]], "comp.draft/style-text" ["def" "style-text" ["{}" [":display" ":block"] [":width" "|100%"]]], "comp.home/on-log-out" ["defn" "on-log-out" ["e" "dispatch!"] ["dispatch!" ":user/log-out" "nil"]], "comp.draft/init-state" ["defn" "init-state" ["&" "args"] "|"], "network/sender" ["defonce" "sender" ["chan"]], "comp.container/style-body" ["def" "style-body" ["{}"]], "comp.login/comp-login" ["def" "comp-login" ["create-comp" ":login" "init-state" "update-state" "render"]], "comp.draft/render" ["defn" "render" [] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["{}" [":width" "|100%"]]]] ["textarea" ["{}" [":style" ["merge" "ui/textarea" "style-text"]] [":attrs" ["{}" [":placeholder" "|New message here..."] [":value" "state"]]] [":event" ["{}" [":input" ["on-input" "mutate!"]]]]]] ["comp-space" "nil" "16"] ["div" ["{}" [":style" ["merge" "ui/row" "style-toolbar"]]] ["button" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" ["on-send" "state" "mutate!"]]]]] ["comp-text" "|Add" "nil"]]]]]], "comp.container/on-profile" ["defn" "on-profile" ["e" "dispatch!"] ["dispatch!" ":router/change" ["{}" [":name" ":profile"] [":title" "|Profile"] [":data" ["{}"]] [":router" "nil"]]]], "comp.home/style-container" ["def" "style-container" ["{}" [":padding" "|8px 16px"]]], "comp.container/style-pointer" ["def" "style-pointer" ["{}" [":cursor" "|pointer"]]], "network/send!" ["defn" "send!" ["op" "op-data"] ["go" [">!" "sender" ["[]" "op" "op-data"]]]], "comp.home/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/row" "style-container"]]] ["comp-space" "8" "nil"] ["if" [":logged-in?" "store"] ["let" [["router" ["get-in" "store" ["[]" ":state" ":router"]]]] ["case" [":name" "router"] [":profile" ["div" ["{}" [":style" "ui/flex"]] ["comp-text" ["str" "|Hello! " ["get-in" "store" ["[]" ":user" ":name"]]] "nil"] ["comp-space" "8" "nil"] ["a" ["{}" [":style" "style-trigger"] [":event" ["{}" [":click" "on-log-out"]]]] ["comp-text" "|Log out" "nil"]]]] [":add" ["comp-draft"]] "nil"]] ["comp-login"]]]]], "network/setup-socket!" ["defn" "setup-socket!" ["store-ref" "configs"] ["let" [["ws-url" [":url" "configs"]] ["ws" ["js/WebSocket." "ws-url"]] ["handle-close!" ["if" ["fn?" [":on-close!" "configs"]] [":on-close!" "configs"] "identity"]] ["handle-open!" ["if" ["fn?" [":on-open!" "configs"]] [":on-open!" "configs"] "identity"]]] ["set!" "ws.onopen" ["fn" ["event"] ["handle-open!" "event"]]] ["set!" "ws.onclose" ["fn" ["event"] ["handle-close!" "event"]]] ["set!" "ws.onmessage" ["fn" ["event"] ["let" [["changes" ["reader/read-string" "event.data"]]] ["println" "|Changes" "changes"] ["reset!" "store-ref" ["patch-bunch" "@store-ref" "changes"]]]]] ["go" ["loop" ["[]"] [".send" "ws" ["pr-str" ["<!" "sender"]]] ["recur"]]]]], "comp.login/style-title" ["def" "style-title" ["{}" [":font-size" "24"] [":font-weight" "300"] [":font-family" "|Josefin Sans"]]], "core/render-app!" ["defn" "render-app!" [] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["render!" ["comp-container" "@store-ref"] "target" "dispatch!" "states-ref"]]]}, :namespaces {"comp.container" ["ns" "floating.comp.container" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-code" "comp-text"]] ["[]" "floating.comp.home" ":refer" ["[]" "comp-home"]] ["[]" "respo-message.comp.msg-list" ":refer" ["[]" "comp-msg-list"]]]], "network" ["ns" "floating.network" [":require-macros" ["[]" "cljs.core.async.macros" ":refer" ["[]" "go"]]] [":require" ["[]" "cljs.reader" ":as" "reader"] ["[]" "cljs.core.async" ":as" "a" ":refer" ["[]" ">!" "<!" "chan" "timeout"]] ["[]" "recollect.patch" ":refer" ["[]" "patch-bunch"]]]], "comp.login" ["ns" "floating.comp.login" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "input" "button"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo-ui.style" ":as" "ui"]]], "comp.home" ["ns" "floating.comp.home" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "a"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "floating.comp.login" ":refer" ["[]" "comp-login"]] ["[]" "floating.comp.draft" ":refer" ["[]" "comp-draft"]]]], "core" ["ns" "floating.core" [":require" ["[]" "respo.core" ":refer" ["[]" "render!" "clear-cache!"]] ["[]" "floating.comp.container" ":refer" ["[]" "comp-container"]] ["[]" "cljs.reader" ":refer" ["[]" "read-string"]] ["[]" "floating.network" ":refer" ["[]" "send!" "setup-socket!"]]]], "comp.draft" ["ns" "floating.comp.draft" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "textarea" "button"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]]]]}, :procedures {"style.typeset" [], "comp.room" [], "style.devtool" [], "comp.draft" [], "comp.container" [], "network" [], "comp.login" [], "comp.topics" [], "comp-draft" [], "comp.home" [], "comp.topic" [], "core" [["set!" "js/window.onload" "-main"]], "style.layout" [], "style.widget" []}}